"use strict";(self.webpackChunkbhq_ius_moodle=self.webpackChunkbhq_ius_moodle||[]).push([[942],{7942:(C,v,e)=>{e.r(v),e.d(v,{AuthenticationModule:()=>N});var d=e(9808),i=e(2382),h=e(520),c=e(9826),n=e(5e3);let g=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["internal-app-authentication"]],decls:1,vars:0,template:function(t,a){1&t&&n._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2}),o})();var p=e(5861),f=e(3905),u=e(5973),m=e(5017),l=e(6042),E=e(2683),T=e(2643),x=e(1047),A=e(6114),y=e(1894),z=e(4546),_=e(2359);function M(o,r){if(1&o&&(n.ynx(0),n._UZ(1,"nz-alert",20),n.BQk()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("nzMessage",t.messageError)}}function Z(o,r){1&o&&(n.ynx(0),n._uU(1," M\u1ee5c n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),n.BQk())}function J(o,r){1&o&&n.YNc(0,Z,2,0,"ng-container",5),2&o&&n.Q6J("ngIf",r.$implicit.hasError("required"))}function L(o,r){1&o&&(n.ynx(0),n._uU(1," M\u1ee5c n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),n.BQk())}function F(o,r){1&o&&n.YNc(0,L,2,0,"ng-container",5),2&o&&n.Q6J("ngIf",r.$implicit.hasError("required"))}function w(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"i",21),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.passwordVisible=!s.passwordVisible)}),n.qZA()}if(2&o){const t=n.oxw();n.Q6J("nzType",t.passwordVisible?"eye-invisible":"eye")}}const B=[{path:"",component:g,children:[{path:"login",component:(()=>{class o{constructor(t,a,s){this.fb=t,this.authService=a,this.router=s,this.Error=!0,this.passwordVisible=!1,this.messageError=""}formBuilder(){this.loginForm=this.fb.group({username:["",[i.kI.required]],password:["",[i.kI.required]],rememberMe:[null,[]]})}ngOnInit(){this.formBuilder(),console.log("init form login")}login(){var t=this;return(0,p.Z)(function*(){try{const a=t.loginForm.value;let s=yield(0,f.z)(t.authService.login(a));s&&s.accessToken?(localStorage.setItem("access_token",s.accessToken),t.router.navigate(["pages"])):(t.Error=!1,t.messageError="T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang")}catch(a){console.log(a),t.Error=!1,t.messageError="T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"}})()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(i.qu),n.Y36(u.$),n.Y36(c.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["internal-app-login"]],decls:37,vars:6,consts:[[1,"main-wrapper"],[1,"login-form"],[1,"login-content"],[1,"login-title","mb-4","mt-3"],[1,"login-eror"],[4,"ngIf"],["nz-form","",3,"formGroup"],[3,"nzErrorTip"],["for","username"],["nz-input","","type","text","name","username","id","username","formControlName","username"],["Username",""],["for","password"],[3,"nzSuffix"],["nz-input","","name","password","id","password","formControlName","password",3,"type"],["Password",""],["suffixTemplate",""],["nz-checkbox","","name","rememberMe","formControlName","rememberMe"],[1,"form-group"],[1,"mt-3"],["type","button","nz-button","","nzBlock","","nzType","primary",3,"click"],["nzType","error",1,"my-3",3,"nzMessage"],["id","eye","nz-icon","",3,"nzType","click"]],template:function(t,a){if(1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"section")(4,"div",3)(5,"h4"),n._uU(6,"\u0110\u0103ng nh\u1eadp h\u1ec7 th\u1ed1ng"),n.qZA()()(),n.TgZ(7,"section"),n._UZ(8,"div",4),n.qZA(),n.TgZ(9,"section"),n.YNc(10,M,2,1,"ng-container",5),n.TgZ(11,"form",6)(12,"nz-form-item")(13,"nz-form-control",7)(14,"nz-form-label",8),n._uU(15,"T\xean \u0111\u0103ng nh\u1eadp"),n.qZA(),n._UZ(16,"input",9),n.YNc(17,J,1,1,"ng-template",null,10,n.W1O),n.qZA()(),n.TgZ(19,"nz-form-item")(20,"nz-form-control",7)(21,"nz-form-label",11),n._uU(22,"M\u1eadt kh\u1ea9u"),n.qZA(),n.TgZ(23,"nz-input-group",12),n._UZ(24,"input",13),n.YNc(25,F,1,1,"ng-template",null,14,n.W1O),n.qZA(),n.YNc(27,w,1,1,"ng-template",null,15,n.W1O),n.qZA()(),n.TgZ(29,"nz-form-item")(30,"nz-form-control")(31,"label",16),n._uU(32,"Ghi nh\u1edb \u0111\u0103ng nh\u1eadp"),n.qZA()()(),n.TgZ(33,"div",17)(34,"div",18)(35,"button",19),n.NdJ("click",function(){return a.login()}),n._uU(36," \u0110\u0103ng nh\u1eadp "),n.qZA()()()()()()()()),2&t){const s=n.MAs(18),P=n.MAs(26),k=n.MAs(28);n.xp6(10),n.Q6J("ngIf",!a.Error),n.xp6(1),n.Q6J("formGroup",a.loginForm),n.xp6(2),n.Q6J("nzErrorTip",s),n.xp6(7),n.Q6J("nzErrorTip",P),n.xp6(3),n.Q6J("nzSuffix",k),n.xp6(1),n.Q6J("type",a.passwordVisible?"text":"password")}},dependencies:[d.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.Ls,l.ix,E.w,T.dQ,x.Zp,x.gB,x.ke,A.Ie,y.t3,y.SK,z.Lr,z.Nx,z.iK,z.Fd,_.r],styles:[".main-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;position:relative;display:flex;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{width:30%}.login-form[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]{margin-top:5%;border:none;box-shadow:0 2px 4px #0000001a,0 8px 16px #0000001a;padding:30px}.login-form[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}#eye[_ngcontent-%COMP%]{cursor:pointer}"]}),o})()}]}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[c.Bz.forChild(B),c.Bz]}),o})();var Q=e(9923),U=e(9201);let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[u.$],imports:[d.ez,i.u5,i.UX,O,h.JF,Q.v.forRoot(),U.V.forRoot()]}),o})()},5861:(C,v,e)=>{function d(h,c,n,g,p,f,u){try{var m=h[f](u),l=m.value}catch(E){return void n(E)}m.done?c(l):Promise.resolve(l).then(g,p)}function i(h){return function(){var c=this,n=arguments;return new Promise(function(g,p){var f=h.apply(c,n);function u(l){d(f,g,p,u,m,"next",l)}function m(l){d(f,g,p,u,m,"throw",l)}u(void 0)})}}e.d(v,{Z:()=>i})}}]);